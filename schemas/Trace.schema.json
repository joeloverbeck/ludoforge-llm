{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "gameDefId": {
      "type": "string"
    },
    "seed": {
      "type": "number"
    },
    "moves": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "stateHash": {
            "type": "string",
            "pattern": "^0x[0-9a-f]+$"
          },
          "player": {
            "type": "integer",
            "minimum": -9007199254740991,
            "maximum": 9007199254740991
          },
          "move": {
            "$ref": "#/definitions/__schema0"
          },
          "legalMoveCount": {
            "type": "number"
          },
          "deltas": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "path": {
                  "type": "string"
                },
                "before": {},
                "after": {}
              },
              "required": [
                "path",
                "before",
                "after"
              ],
              "additionalProperties": false
            }
          },
          "triggerFirings": {
            "type": "array",
            "items": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "kind": {
                      "type": "string",
                      "const": "fired"
                    },
                    "triggerId": {
                      "type": "string"
                    },
                    "event": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "phaseEnter"
                            },
                            "phase": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "phase"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "phaseExit"
                            },
                            "phase": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "phase"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "turnStart"
                            }
                          },
                          "required": [
                            "type"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "turnEnd"
                            }
                          },
                          "required": [
                            "type"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "actionResolved"
                            },
                            "action": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "tokenEntered"
                            },
                            "zone": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "varChanged"
                            },
                            "scope": {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "const": "global"
                                },
                                {
                                  "type": "string",
                                  "const": "perPlayer"
                                }
                              ]
                            },
                            "var": {
                              "type": "string"
                            },
                            "player": {
                              "type": "integer",
                              "minimum": -9007199254740991,
                              "maximum": 9007199254740991
                            },
                            "oldValue": {
                              "anyOf": [
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "boolean"
                                }
                              ]
                            },
                            "newValue": {
                              "anyOf": [
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "boolean"
                                }
                              ]
                            }
                          },
                          "required": [
                            "type"
                          ],
                          "additionalProperties": false
                        }
                      ]
                    },
                    "depth": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "kind",
                    "triggerId",
                    "event",
                    "depth"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "kind": {
                      "type": "string",
                      "const": "truncated"
                    },
                    "event": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "phaseEnter"
                            },
                            "phase": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "phase"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "phaseExit"
                            },
                            "phase": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "phase"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "turnStart"
                            }
                          },
                          "required": [
                            "type"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "turnEnd"
                            }
                          },
                          "required": [
                            "type"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "actionResolved"
                            },
                            "action": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "tokenEntered"
                            },
                            "zone": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "varChanged"
                            },
                            "scope": {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "const": "global"
                                },
                                {
                                  "type": "string",
                                  "const": "perPlayer"
                                }
                              ]
                            },
                            "var": {
                              "type": "string"
                            },
                            "player": {
                              "type": "integer",
                              "minimum": -9007199254740991,
                              "maximum": 9007199254740991
                            },
                            "oldValue": {
                              "anyOf": [
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "boolean"
                                }
                              ]
                            },
                            "newValue": {
                              "anyOf": [
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "boolean"
                                }
                              ]
                            }
                          },
                          "required": [
                            "type"
                          ],
                          "additionalProperties": false
                        }
                      ]
                    },
                    "depth": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "kind",
                    "event",
                    "depth"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "kind": {
                      "type": "string",
                      "const": "turnFlowLifecycle"
                    },
                    "step": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "initialRevealPlayed"
                        },
                        {
                          "type": "string",
                          "const": "initialRevealLookahead"
                        },
                        {
                          "type": "string",
                          "const": "promoteLookaheadToPlayed"
                        },
                        {
                          "type": "string",
                          "const": "revealLookahead"
                        },
                        {
                          "type": "string",
                          "const": "coupToLeader"
                        },
                        {
                          "type": "string",
                          "const": "coupHandoff"
                        }
                      ]
                    },
                    "slots": {
                      "type": "object",
                      "properties": {
                        "played": {
                          "type": "string",
                          "minLength": 1
                        },
                        "lookahead": {
                          "type": "string",
                          "minLength": 1
                        },
                        "leader": {
                          "type": "string",
                          "minLength": 1
                        }
                      },
                      "required": [
                        "played",
                        "lookahead",
                        "leader"
                      ],
                      "additionalProperties": false
                    },
                    "before": {
                      "type": "object",
                      "properties": {
                        "playedCardId": {
                          "anyOf": [
                            {
                              "type": "string",
                              "minLength": 1
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "lookaheadCardId": {
                          "anyOf": [
                            {
                              "type": "string",
                              "minLength": 1
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "leaderCardId": {
                          "anyOf": [
                            {
                              "type": "string",
                              "minLength": 1
                            },
                            {
                              "type": "null"
                            }
                          ]
                        }
                      },
                      "required": [
                        "playedCardId",
                        "lookaheadCardId",
                        "leaderCardId"
                      ],
                      "additionalProperties": false
                    },
                    "after": {
                      "type": "object",
                      "properties": {
                        "playedCardId": {
                          "anyOf": [
                            {
                              "type": "string",
                              "minLength": 1
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "lookaheadCardId": {
                          "anyOf": [
                            {
                              "type": "string",
                              "minLength": 1
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "leaderCardId": {
                          "anyOf": [
                            {
                              "type": "string",
                              "minLength": 1
                            },
                            {
                              "type": "null"
                            }
                          ]
                        }
                      },
                      "required": [
                        "playedCardId",
                        "lookaheadCardId",
                        "leaderCardId"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "required": [
                    "kind",
                    "step",
                    "slots",
                    "before",
                    "after"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "kind": {
                      "type": "string",
                      "const": "turnFlowEligibility"
                    },
                    "step": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "candidateScan"
                        },
                        {
                          "type": "string",
                          "const": "passChain"
                        },
                        {
                          "type": "string",
                          "const": "cardEnd"
                        },
                        {
                          "type": "string",
                          "const": "overrideCreate"
                        }
                      ]
                    },
                    "faction": {
                      "anyOf": [
                        {
                          "type": "string",
                          "minLength": 1
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "before": {
                      "type": "object",
                      "properties": {
                        "firstEligible": {
                          "anyOf": [
                            {
                              "type": "string",
                              "minLength": 1
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "secondEligible": {
                          "anyOf": [
                            {
                              "type": "string",
                              "minLength": 1
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "actedFactions": {
                          "type": "array",
                          "items": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "passedFactions": {
                          "type": "array",
                          "items": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "nonPassCount": {
                          "type": "number"
                        },
                        "firstActionClass": {
                          "anyOf": [
                            {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "const": "event"
                                },
                                {
                                  "type": "string",
                                  "const": "operation"
                                },
                                {
                                  "type": "string",
                                  "const": "operationPlusSpecialActivity"
                                }
                              ]
                            },
                            {
                              "type": "null"
                            }
                          ]
                        }
                      },
                      "required": [
                        "firstEligible",
                        "secondEligible",
                        "actedFactions",
                        "passedFactions",
                        "nonPassCount",
                        "firstActionClass"
                      ],
                      "additionalProperties": false
                    },
                    "after": {
                      "type": "object",
                      "properties": {
                        "firstEligible": {
                          "anyOf": [
                            {
                              "type": "string",
                              "minLength": 1
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "secondEligible": {
                          "anyOf": [
                            {
                              "type": "string",
                              "minLength": 1
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "actedFactions": {
                          "type": "array",
                          "items": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "passedFactions": {
                          "type": "array",
                          "items": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "nonPassCount": {
                          "type": "number"
                        },
                        "firstActionClass": {
                          "anyOf": [
                            {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "const": "event"
                                },
                                {
                                  "type": "string",
                                  "const": "operation"
                                },
                                {
                                  "type": "string",
                                  "const": "operationPlusSpecialActivity"
                                }
                              ]
                            },
                            {
                              "type": "null"
                            }
                          ]
                        }
                      },
                      "required": [
                        "firstEligible",
                        "secondEligible",
                        "actedFactions",
                        "passedFactions",
                        "nonPassCount",
                        "firstActionClass"
                      ],
                      "additionalProperties": false
                    },
                    "eligibilityBefore": {
                      "type": "object",
                      "propertyNames": {
                        "type": "string"
                      },
                      "additionalProperties": {
                        "type": "boolean"
                      }
                    },
                    "eligibilityAfter": {
                      "type": "object",
                      "propertyNames": {
                        "type": "string"
                      },
                      "additionalProperties": {
                        "type": "boolean"
                      }
                    },
                    "rewards": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "resource": {
                            "type": "string",
                            "minLength": 1
                          },
                          "amount": {
                            "type": "number"
                          }
                        },
                        "required": [
                          "resource",
                          "amount"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "overrides": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "faction": {
                            "type": "string",
                            "minLength": 1
                          },
                          "eligible": {
                            "type": "boolean"
                          },
                          "windowId": {
                            "type": "string",
                            "minLength": 1
                          },
                          "duration": {
                            "anyOf": [
                              {
                                "type": "string",
                                "const": "turn"
                              },
                              {
                                "type": "string",
                                "const": "nextTurn"
                              },
                              {
                                "type": "string",
                                "const": "round"
                              },
                              {
                                "type": "string",
                                "const": "cycle"
                              }
                            ]
                          }
                        },
                        "required": [
                          "faction",
                          "eligible",
                          "windowId",
                          "duration"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "reason": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "rightmostPass"
                        },
                        {
                          "type": "string",
                          "const": "twoNonPass"
                        }
                      ]
                    }
                  },
                  "required": [
                    "kind",
                    "step",
                    "faction",
                    "before",
                    "after"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "kind": {
                      "type": "string",
                      "const": "simultaneousSubmission"
                    },
                    "player": {
                      "type": "string",
                      "minLength": 1
                    },
                    "move": {
                      "type": "object",
                      "properties": {
                        "actionId": {
                          "type": "string",
                          "minLength": 1
                        },
                        "params": {
                          "type": "object",
                          "propertyNames": {
                            "type": "string"
                          },
                          "additionalProperties": {
                            "anyOf": [
                              {
                                "type": "number"
                              },
                              {
                                "type": "string"
                              },
                              {
                                "type": "boolean"
                              },
                              {
                                "type": "array",
                                "items": {
                                  "anyOf": [
                                    {
                                      "type": "number"
                                    },
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "boolean"
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        },
                        "freeOperation": {
                          "type": "boolean"
                        },
                        "actionClass": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "actionId",
                        "params"
                      ],
                      "additionalProperties": false
                    },
                    "submittedBefore": {
                      "type": "object",
                      "propertyNames": {
                        "type": "string"
                      },
                      "additionalProperties": {
                        "type": "boolean"
                      }
                    },
                    "submittedAfter": {
                      "type": "object",
                      "propertyNames": {
                        "type": "string"
                      },
                      "additionalProperties": {
                        "type": "boolean"
                      }
                    }
                  },
                  "required": [
                    "kind",
                    "player",
                    "move",
                    "submittedBefore",
                    "submittedAfter"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "kind": {
                      "type": "string",
                      "const": "simultaneousCommit"
                    },
                    "playersInOrder": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "minLength": 1
                      }
                    },
                    "pendingCount": {
                      "type": "integer",
                      "minimum": 0,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": [
                    "kind",
                    "playersInOrder",
                    "pendingCount"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "kind": {
                      "type": "string",
                      "const": "operationPartial"
                    },
                    "actionId": {
                      "type": "string",
                      "minLength": 1
                    },
                    "profileId": {
                      "type": "string",
                      "minLength": 1
                    },
                    "step": {
                      "type": "string",
                      "const": "costSpendSkipped"
                    },
                    "reason": {
                      "type": "string",
                      "const": "costValidationFailed"
                    }
                  },
                  "required": [
                    "kind",
                    "actionId",
                    "profileId",
                    "step",
                    "reason"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "kind": {
                      "type": "string",
                      "const": "operationFree"
                    },
                    "actionId": {
                      "type": "string",
                      "minLength": 1
                    },
                    "step": {
                      "type": "string",
                      "const": "costSpendSkipped"
                    }
                  },
                  "required": [
                    "kind",
                    "actionId",
                    "step"
                  ],
                  "additionalProperties": false
                }
              ]
            }
          },
          "warnings": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "code": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "EMPTY_QUERY_RESULT"
                    },
                    {
                      "type": "string",
                      "const": "TOKEN_NOT_IN_ZONE"
                    },
                    {
                      "type": "string",
                      "const": "BINDING_UNDEFINED"
                    },
                    {
                      "type": "string",
                      "const": "EMPTY_ZONE_OPERATION"
                    },
                    {
                      "type": "string",
                      "const": "ZERO_EFFECT_ITERATIONS"
                    },
                    {
                      "type": "string",
                      "const": "MOVE_ENUM_TEMPLATE_BUDGET_EXCEEDED"
                    },
                    {
                      "type": "string",
                      "const": "MOVE_ENUM_PARAM_EXPANSION_BUDGET_EXCEEDED"
                    },
                    {
                      "type": "string",
                      "const": "MOVE_ENUM_DECISION_PROBE_STEP_BUDGET_EXCEEDED"
                    },
                    {
                      "type": "string",
                      "const": "MOVE_ENUM_DEFERRED_PREDICATE_BUDGET_EXCEEDED"
                    }
                  ]
                },
                "message": {
                  "type": "string"
                },
                "context": {
                  "type": "object",
                  "propertyNames": {
                    "type": "string"
                  },
                  "additionalProperties": {}
                },
                "hint": {
                  "type": "string"
                }
              },
              "required": [
                "code",
                "message",
                "context"
              ],
              "additionalProperties": false
            }
          },
          "effectTrace": {
            "type": "array",
            "items": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "kind": {
                      "type": "string",
                      "const": "forEach"
                    },
                    "bind": {
                      "type": "string"
                    },
                    "matchCount": {
                      "type": "number"
                    },
                    "limit": {
                      "type": "number"
                    },
                    "iteratedCount": {
                      "type": "number"
                    },
                    "provenance": {
                      "type": "object",
                      "properties": {
                        "phase": {
                          "type": "string"
                        },
                        "eventContext": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "actionCost"
                            },
                            {
                              "type": "string",
                              "const": "actionEffect"
                            },
                            {
                              "type": "string",
                              "const": "lifecycleEffect"
                            },
                            {
                              "type": "string",
                              "const": "triggerEffect"
                            },
                            {
                              "type": "string",
                              "const": "lifecycleEvent"
                            }
                          ]
                        },
                        "actionId": {
                          "type": "string"
                        },
                        "effectPath": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "phase",
                        "eventContext",
                        "effectPath"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "required": [
                    "kind",
                    "bind",
                    "matchCount",
                    "iteratedCount",
                    "provenance"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "kind": {
                      "type": "string",
                      "const": "reduce"
                    },
                    "itemBind": {
                      "type": "string"
                    },
                    "accBind": {
                      "type": "string"
                    },
                    "resultBind": {
                      "type": "string"
                    },
                    "matchCount": {
                      "type": "number"
                    },
                    "limit": {
                      "type": "number"
                    },
                    "iteratedCount": {
                      "type": "number"
                    },
                    "provenance": {
                      "type": "object",
                      "properties": {
                        "phase": {
                          "type": "string"
                        },
                        "eventContext": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "actionCost"
                            },
                            {
                              "type": "string",
                              "const": "actionEffect"
                            },
                            {
                              "type": "string",
                              "const": "lifecycleEffect"
                            },
                            {
                              "type": "string",
                              "const": "triggerEffect"
                            },
                            {
                              "type": "string",
                              "const": "lifecycleEvent"
                            }
                          ]
                        },
                        "actionId": {
                          "type": "string"
                        },
                        "effectPath": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "phase",
                        "eventContext",
                        "effectPath"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "required": [
                    "kind",
                    "itemBind",
                    "accBind",
                    "resultBind",
                    "matchCount",
                    "iteratedCount",
                    "provenance"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "kind": {
                      "type": "string",
                      "const": "moveToken"
                    },
                    "tokenId": {
                      "type": "string"
                    },
                    "from": {
                      "type": "string"
                    },
                    "to": {
                      "type": "string"
                    },
                    "provenance": {
                      "type": "object",
                      "properties": {
                        "phase": {
                          "type": "string"
                        },
                        "eventContext": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "actionCost"
                            },
                            {
                              "type": "string",
                              "const": "actionEffect"
                            },
                            {
                              "type": "string",
                              "const": "lifecycleEffect"
                            },
                            {
                              "type": "string",
                              "const": "triggerEffect"
                            },
                            {
                              "type": "string",
                              "const": "lifecycleEvent"
                            }
                          ]
                        },
                        "actionId": {
                          "type": "string"
                        },
                        "effectPath": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "phase",
                        "eventContext",
                        "effectPath"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "required": [
                    "kind",
                    "tokenId",
                    "from",
                    "to",
                    "provenance"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "kind": {
                      "type": "string",
                      "const": "setTokenProp"
                    },
                    "tokenId": {
                      "type": "string"
                    },
                    "prop": {
                      "type": "string"
                    },
                    "oldValue": {},
                    "newValue": {},
                    "provenance": {
                      "type": "object",
                      "properties": {
                        "phase": {
                          "type": "string"
                        },
                        "eventContext": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "actionCost"
                            },
                            {
                              "type": "string",
                              "const": "actionEffect"
                            },
                            {
                              "type": "string",
                              "const": "lifecycleEffect"
                            },
                            {
                              "type": "string",
                              "const": "triggerEffect"
                            },
                            {
                              "type": "string",
                              "const": "lifecycleEvent"
                            }
                          ]
                        },
                        "actionId": {
                          "type": "string"
                        },
                        "effectPath": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "phase",
                        "eventContext",
                        "effectPath"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "required": [
                    "kind",
                    "tokenId",
                    "prop",
                    "oldValue",
                    "newValue",
                    "provenance"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "kind": {
                      "type": "string",
                      "const": "varChange"
                    },
                    "scope": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "global"
                        },
                        {
                          "type": "string",
                          "const": "perPlayer"
                        }
                      ]
                    },
                    "varName": {
                      "type": "string"
                    },
                    "oldValue": {
                      "anyOf": [
                        {
                          "type": "number"
                        },
                        {
                          "type": "boolean"
                        }
                      ]
                    },
                    "newValue": {
                      "anyOf": [
                        {
                          "type": "number"
                        },
                        {
                          "type": "boolean"
                        }
                      ]
                    },
                    "player": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "provenance": {
                      "type": "object",
                      "properties": {
                        "phase": {
                          "type": "string"
                        },
                        "eventContext": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "actionCost"
                            },
                            {
                              "type": "string",
                              "const": "actionEffect"
                            },
                            {
                              "type": "string",
                              "const": "lifecycleEffect"
                            },
                            {
                              "type": "string",
                              "const": "triggerEffect"
                            },
                            {
                              "type": "string",
                              "const": "lifecycleEvent"
                            }
                          ]
                        },
                        "actionId": {
                          "type": "string"
                        },
                        "effectPath": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "phase",
                        "eventContext",
                        "effectPath"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "required": [
                    "kind",
                    "scope",
                    "varName",
                    "oldValue",
                    "newValue",
                    "provenance"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "kind": {
                      "type": "string",
                      "const": "resourceTransfer"
                    },
                    "from": {
                      "type": "object",
                      "properties": {
                        "scope": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "global"
                            },
                            {
                              "type": "string",
                              "const": "perPlayer"
                            }
                          ]
                        },
                        "varName": {
                          "type": "string"
                        },
                        "player": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        }
                      },
                      "required": [
                        "scope",
                        "varName"
                      ],
                      "additionalProperties": false
                    },
                    "to": {
                      "type": "object",
                      "properties": {
                        "scope": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "global"
                            },
                            {
                              "type": "string",
                              "const": "perPlayer"
                            }
                          ]
                        },
                        "varName": {
                          "type": "string"
                        },
                        "player": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        }
                      },
                      "required": [
                        "scope",
                        "varName"
                      ],
                      "additionalProperties": false
                    },
                    "requestedAmount": {
                      "type": "integer",
                      "minimum": 0,
                      "maximum": 9007199254740991
                    },
                    "actualAmount": {
                      "type": "integer",
                      "minimum": 0,
                      "maximum": 9007199254740991
                    },
                    "sourceAvailable": {
                      "type": "integer",
                      "minimum": 0,
                      "maximum": 9007199254740991
                    },
                    "destinationHeadroom": {
                      "type": "integer",
                      "minimum": 0,
                      "maximum": 9007199254740991
                    },
                    "minAmount": {
                      "type": "integer",
                      "minimum": 0,
                      "maximum": 9007199254740991
                    },
                    "maxAmount": {
                      "type": "integer",
                      "minimum": 0,
                      "maximum": 9007199254740991
                    },
                    "provenance": {
                      "type": "object",
                      "properties": {
                        "phase": {
                          "type": "string"
                        },
                        "eventContext": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "actionCost"
                            },
                            {
                              "type": "string",
                              "const": "actionEffect"
                            },
                            {
                              "type": "string",
                              "const": "lifecycleEffect"
                            },
                            {
                              "type": "string",
                              "const": "triggerEffect"
                            },
                            {
                              "type": "string",
                              "const": "lifecycleEvent"
                            }
                          ]
                        },
                        "actionId": {
                          "type": "string"
                        },
                        "effectPath": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "phase",
                        "eventContext",
                        "effectPath"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "required": [
                    "kind",
                    "from",
                    "to",
                    "requestedAmount",
                    "actualAmount",
                    "sourceAvailable",
                    "destinationHeadroom",
                    "provenance"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "kind": {
                      "type": "string",
                      "const": "lifecycleEvent"
                    },
                    "eventType": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "phaseEnter"
                        },
                        {
                          "type": "string",
                          "const": "phaseExit"
                        },
                        {
                          "type": "string",
                          "const": "turnStart"
                        },
                        {
                          "type": "string",
                          "const": "turnEnd"
                        }
                      ]
                    },
                    "phase": {
                      "type": "string"
                    },
                    "provenance": {
                      "type": "object",
                      "properties": {
                        "phase": {
                          "type": "string"
                        },
                        "eventContext": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "actionCost"
                            },
                            {
                              "type": "string",
                              "const": "actionEffect"
                            },
                            {
                              "type": "string",
                              "const": "lifecycleEffect"
                            },
                            {
                              "type": "string",
                              "const": "triggerEffect"
                            },
                            {
                              "type": "string",
                              "const": "lifecycleEvent"
                            }
                          ]
                        },
                        "actionId": {
                          "type": "string"
                        },
                        "effectPath": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "phase",
                        "eventContext",
                        "effectPath"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "required": [
                    "kind",
                    "eventType",
                    "provenance"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "kind": {
                      "type": "string",
                      "const": "createToken"
                    },
                    "tokenId": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string"
                    },
                    "zone": {
                      "type": "string"
                    },
                    "provenance": {
                      "type": "object",
                      "properties": {
                        "phase": {
                          "type": "string"
                        },
                        "eventContext": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "actionCost"
                            },
                            {
                              "type": "string",
                              "const": "actionEffect"
                            },
                            {
                              "type": "string",
                              "const": "lifecycleEffect"
                            },
                            {
                              "type": "string",
                              "const": "triggerEffect"
                            },
                            {
                              "type": "string",
                              "const": "lifecycleEvent"
                            }
                          ]
                        },
                        "actionId": {
                          "type": "string"
                        },
                        "effectPath": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "phase",
                        "eventContext",
                        "effectPath"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "required": [
                    "kind",
                    "tokenId",
                    "type",
                    "zone",
                    "provenance"
                  ],
                  "additionalProperties": false
                }
              ]
            }
          }
        },
        "required": [
          "stateHash",
          "player",
          "move",
          "legalMoveCount",
          "deltas",
          "triggerFirings",
          "warnings"
        ],
        "additionalProperties": false
      }
    },
    "finalState": {
      "type": "object",
      "properties": {
        "globalVars": {
          "type": "object",
          "propertyNames": {
            "type": "string"
          },
          "additionalProperties": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "boolean"
              }
            ]
          }
        },
        "perPlayerVars": {
          "type": "object",
          "propertyNames": {
            "type": "string"
          },
          "additionalProperties": {
            "type": "object",
            "propertyNames": {
              "type": "string"
            },
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "boolean"
                }
              ]
            }
          }
        },
        "playerCount": {
          "type": "number"
        },
        "zones": {
          "type": "object",
          "propertyNames": {
            "type": "string"
          },
          "additionalProperties": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "type": {
                  "type": "string"
                },
                "props": {
                  "type": "object",
                  "propertyNames": {
                    "type": "string"
                  },
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "number"
                      },
                      {
                        "type": "string"
                      },
                      {
                        "type": "boolean"
                      }
                    ]
                  }
                }
              },
              "required": [
                "id",
                "type",
                "props"
              ],
              "additionalProperties": false
            }
          }
        },
        "nextTokenOrdinal": {
          "type": "number"
        },
        "currentPhase": {
          "type": "string"
        },
        "activePlayer": {
          "type": "integer",
          "minimum": -9007199254740991,
          "maximum": 9007199254740991
        },
        "turnCount": {
          "type": "number"
        },
        "rng": {
          "type": "object",
          "properties": {
            "algorithm": {
              "type": "string",
              "const": "pcg-dxsm-128"
            },
            "version": {
              "type": "number",
              "const": 1
            },
            "state": {
              "minItems": 2,
              "maxItems": 2,
              "type": "array",
              "items": {
                "type": "string",
                "pattern": "^0x[0-9a-f]+$"
              }
            }
          },
          "required": [
            "algorithm",
            "version",
            "state"
          ],
          "additionalProperties": false
        },
        "stateHash": {
          "type": "string",
          "pattern": "^0x[0-9a-f]+$"
        },
        "actionUsage": {
          "type": "object",
          "propertyNames": {
            "type": "string"
          },
          "additionalProperties": {
            "type": "object",
            "properties": {
              "turnCount": {
                "type": "number"
              },
              "phaseCount": {
                "type": "number"
              },
              "gameCount": {
                "type": "number"
              }
            },
            "required": [
              "turnCount",
              "phaseCount",
              "gameCount"
            ],
            "additionalProperties": false
          }
        },
        "turnOrderState": {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "const": "roundRobin"
                }
              },
              "required": [
                "type"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "const": "fixedOrder"
                },
                "currentIndex": {
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 9007199254740991
                }
              },
              "required": [
                "type",
                "currentIndex"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "const": "cardDriven"
                },
                "runtime": {
                  "type": "object",
                  "properties": {
                    "factionOrder": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "minLength": 1
                      }
                    },
                    "eligibility": {
                      "type": "object",
                      "propertyNames": {
                        "type": "string"
                      },
                      "additionalProperties": {
                        "type": "boolean"
                      }
                    },
                    "currentCard": {
                      "type": "object",
                      "properties": {
                        "firstEligible": {
                          "anyOf": [
                            {
                              "type": "string",
                              "minLength": 1
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "secondEligible": {
                          "anyOf": [
                            {
                              "type": "string",
                              "minLength": 1
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "actedFactions": {
                          "type": "array",
                          "items": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "passedFactions": {
                          "type": "array",
                          "items": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "nonPassCount": {
                          "type": "number"
                        },
                        "firstActionClass": {
                          "anyOf": [
                            {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "const": "event"
                                },
                                {
                                  "type": "string",
                                  "const": "operation"
                                },
                                {
                                  "type": "string",
                                  "const": "operationPlusSpecialActivity"
                                }
                              ]
                            },
                            {
                              "type": "null"
                            }
                          ]
                        }
                      },
                      "required": [
                        "firstEligible",
                        "secondEligible",
                        "actedFactions",
                        "passedFactions",
                        "nonPassCount",
                        "firstActionClass"
                      ],
                      "additionalProperties": false
                    },
                    "pendingEligibilityOverrides": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "faction": {
                            "type": "string",
                            "minLength": 1
                          },
                          "eligible": {
                            "type": "boolean"
                          },
                          "windowId": {
                            "type": "string",
                            "minLength": 1
                          },
                          "duration": {
                            "anyOf": [
                              {
                                "type": "string",
                                "const": "turn"
                              },
                              {
                                "type": "string",
                                "const": "nextTurn"
                              },
                              {
                                "type": "string",
                                "const": "round"
                              },
                              {
                                "type": "string",
                                "const": "cycle"
                              }
                            ]
                          }
                        },
                        "required": [
                          "faction",
                          "eligible",
                          "windowId",
                          "duration"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "pendingFreeOperationGrants": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "grantId": {
                            "type": "string",
                            "minLength": 1
                          },
                          "faction": {
                            "type": "string",
                            "minLength": 1
                          },
                          "executeAsFaction": {
                            "type": "string",
                            "minLength": 1
                          },
                          "operationClass": {
                            "anyOf": [
                              {
                                "type": "string",
                                "const": "pass"
                              },
                              {
                                "type": "string",
                                "const": "event"
                              },
                              {
                                "type": "string",
                                "const": "operation"
                              },
                              {
                                "type": "string",
                                "const": "limitedOperation"
                              },
                              {
                                "type": "string",
                                "const": "operationPlusSpecialActivity"
                              }
                            ]
                          },
                          "actionIds": {
                            "minItems": 1,
                            "type": "array",
                            "items": {
                              "type": "string",
                              "minLength": 1
                            }
                          },
                          "zoneFilter": {
                            "allOf": [
                              {
                                "$ref": "#/definitions/__schema1"
                              }
                            ]
                          },
                          "remainingUses": {
                            "type": "integer",
                            "minimum": 1,
                            "maximum": 9007199254740991
                          },
                          "sequenceBatchId": {
                            "type": "string",
                            "minLength": 1
                          },
                          "sequenceIndex": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 9007199254740991
                          }
                        },
                        "required": [
                          "grantId",
                          "faction",
                          "operationClass",
                          "remainingUses"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "consecutiveCoupRounds": {
                      "type": "integer",
                      "minimum": 0,
                      "maximum": 9007199254740991
                    },
                    "compoundAction": {
                      "type": "object",
                      "properties": {
                        "operationProfileId": {
                          "type": "string",
                          "minLength": 1
                        },
                        "saTiming": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "before"
                            },
                            {
                              "type": "string",
                              "const": "during"
                            },
                            {
                              "type": "string",
                              "const": "after"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        }
                      },
                      "required": [
                        "operationProfileId",
                        "saTiming"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "required": [
                    "factionOrder",
                    "eligibility",
                    "currentCard"
                  ],
                  "additionalProperties": false
                }
              },
              "required": [
                "type",
                "runtime"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "const": "simultaneous"
                },
                "submitted": {
                  "type": "object",
                  "propertyNames": {
                    "type": "string"
                  },
                  "additionalProperties": {
                    "type": "boolean"
                  }
                },
                "pending": {
                  "type": "object",
                  "propertyNames": {
                    "type": "string"
                  },
                  "additionalProperties": {
                    "type": "object",
                    "properties": {
                      "actionId": {
                        "type": "string",
                        "minLength": 1
                      },
                      "params": {
                        "type": "object",
                        "propertyNames": {
                          "type": "string"
                        },
                        "additionalProperties": {
                          "anyOf": [
                            {
                              "type": "number"
                            },
                            {
                              "type": "string"
                            },
                            {
                              "type": "boolean"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "number"
                                  },
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "boolean"
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      "freeOperation": {
                        "type": "boolean"
                      },
                      "actionClass": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "actionId",
                      "params"
                    ],
                    "additionalProperties": false
                  }
                }
              },
              "required": [
                "type",
                "submitted",
                "pending"
              ],
              "additionalProperties": false
            }
          ]
        },
        "markers": {
          "type": "object",
          "propertyNames": {
            "type": "string"
          },
          "additionalProperties": {
            "type": "object",
            "propertyNames": {
              "type": "string"
            },
            "additionalProperties": {
              "type": "string"
            }
          }
        },
        "reveals": {
          "type": "object",
          "propertyNames": {
            "type": "string"
          },
          "additionalProperties": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "observers": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "all"
                    },
                    {
                      "type": "array",
                      "items": {
                        "type": "integer",
                        "minimum": -9007199254740991,
                        "maximum": 9007199254740991
                      }
                    }
                  ]
                },
                "filter": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "prop": {
                        "type": "string"
                      },
                      "op": {
                        "anyOf": [
                          {
                            "type": "string",
                            "const": "eq"
                          },
                          {
                            "type": "string",
                            "const": "neq"
                          },
                          {
                            "type": "string",
                            "const": "in"
                          },
                          {
                            "type": "string",
                            "const": "notIn"
                          }
                        ]
                      },
                      "value": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/__schema2"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "boolean"
                                }
                              ]
                            }
                          }
                        ]
                      }
                    },
                    "required": [
                      "prop",
                      "op",
                      "value"
                    ],
                    "additionalProperties": false
                  }
                }
              },
              "required": [
                "observers"
              ],
              "additionalProperties": false
            }
          }
        },
        "globalMarkers": {
          "type": "object",
          "propertyNames": {
            "type": "string"
          },
          "additionalProperties": {
            "type": "string"
          }
        },
        "activeLastingEffects": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string"
              },
              "sourceCardId": {
                "type": "string"
              },
              "side": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "unshaded"
                  },
                  {
                    "type": "string",
                    "const": "shaded"
                  }
                ]
              },
              "branchId": {
                "type": "string"
              },
              "duration": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "turn"
                  },
                  {
                    "type": "string",
                    "const": "nextTurn"
                  },
                  {
                    "type": "string",
                    "const": "round"
                  },
                  {
                    "type": "string",
                    "const": "cycle"
                  }
                ]
              },
              "setupEffects": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/__schema5"
                }
              },
              "teardownEffects": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/__schema5"
                }
              },
              "remainingTurnBoundaries": {
                "type": "integer",
                "minimum": 0,
                "maximum": 9007199254740991
              },
              "remainingRoundBoundaries": {
                "type": "integer",
                "minimum": 0,
                "maximum": 9007199254740991
              },
              "remainingCycleBoundaries": {
                "type": "integer",
                "minimum": 0,
                "maximum": 9007199254740991
              }
            },
            "required": [
              "id",
              "sourceCardId",
              "side",
              "duration",
              "setupEffects"
            ],
            "additionalProperties": false
          }
        },
        "interruptPhaseStack": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "phase": {
                "type": "string"
              },
              "resumePhase": {
                "type": "string"
              }
            },
            "required": [
              "phase",
              "resumePhase"
            ],
            "additionalProperties": false
          }
        }
      },
      "required": [
        "globalVars",
        "perPlayerVars",
        "playerCount",
        "zones",
        "nextTokenOrdinal",
        "currentPhase",
        "activePlayer",
        "turnCount",
        "rng",
        "stateHash",
        "actionUsage",
        "turnOrderState",
        "markers"
      ],
      "additionalProperties": false
    },
    "result": {
      "anyOf": [
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "const": "win"
                },
                "player": {
                  "type": "integer",
                  "minimum": -9007199254740991,
                  "maximum": 9007199254740991
                },
                "victory": {
                  "type": "object",
                  "properties": {
                    "timing": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "duringCoup"
                        },
                        {
                          "type": "string",
                          "const": "finalCoup"
                        }
                      ]
                    },
                    "checkpointId": {
                      "type": "string",
                      "minLength": 1
                    },
                    "winnerFaction": {
                      "type": "string",
                      "minLength": 1
                    },
                    "ranking": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "faction": {
                            "type": "string",
                            "minLength": 1
                          },
                          "margin": {
                            "type": "number"
                          },
                          "rank": {
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "tieBreakKey": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "required": [
                          "faction",
                          "margin",
                          "rank",
                          "tieBreakKey"
                        ],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": [
                    "timing",
                    "checkpointId",
                    "winnerFaction"
                  ],
                  "additionalProperties": false
                }
              },
              "required": [
                "type",
                "player"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "const": "lossAll"
                }
              },
              "required": [
                "type"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "const": "draw"
                }
              },
              "required": [
                "type"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "const": "score"
                },
                "ranking": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "player": {
                        "type": "integer",
                        "minimum": -9007199254740991,
                        "maximum": 9007199254740991
                      },
                      "score": {
                        "type": "number"
                      }
                    },
                    "required": [
                      "player",
                      "score"
                    ],
                    "additionalProperties": false
                  }
                }
              },
              "required": [
                "type",
                "ranking"
              ],
              "additionalProperties": false
            }
          ]
        },
        {
          "type": "null"
        }
      ]
    },
    "turnsCount": {
      "type": "number"
    },
    "stopReason": {
      "anyOf": [
        {
          "type": "string",
          "const": "terminal"
        },
        {
          "type": "string",
          "const": "maxTurns"
        },
        {
          "type": "string",
          "const": "noLegalMoves"
        }
      ]
    }
  },
  "required": [
    "gameDefId",
    "seed",
    "moves",
    "finalState",
    "result",
    "turnsCount",
    "stopReason"
  ],
  "additionalProperties": false,
  "definitions": {
    "__schema0": {
      "type": "object",
      "properties": {
        "actionId": {
          "type": "string"
        },
        "params": {
          "type": "object",
          "propertyNames": {
            "type": "string"
          },
          "additionalProperties": {
            "anyOf": [
              {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "type": "boolean"
                    }
                  ]
                }
              }
            ]
          }
        },
        "freeOperation": {
          "type": "boolean"
        },
        "compound": {
          "type": "object",
          "properties": {
            "specialActivity": {
              "$ref": "#/definitions/__schema0"
            },
            "timing": {
              "anyOf": [
                {
                  "type": "string",
                  "const": "before"
                },
                {
                  "type": "string",
                  "const": "during"
                },
                {
                  "type": "string",
                  "const": "after"
                }
              ]
            },
            "insertAfterStage": {
              "type": "integer",
              "minimum": 0,
              "maximum": 9007199254740991
            }
          },
          "required": [
            "specialActivity",
            "timing"
          ],
          "additionalProperties": false
        }
      },
      "required": [
        "actionId",
        "params"
      ],
      "additionalProperties": false
    },
    "__schema1": {
      "anyOf": [
        {
          "type": "boolean"
        },
        {
          "type": "object",
          "properties": {
            "op": {
              "type": "string",
              "const": "and"
            },
            "args": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/__schema1"
              }
            }
          },
          "required": [
            "op",
            "args"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "op": {
              "type": "string",
              "const": "or"
            },
            "args": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/__schema1"
              }
            }
          },
          "required": [
            "op",
            "args"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "op": {
              "type": "string",
              "const": "not"
            },
            "arg": {
              "$ref": "#/definitions/__schema1"
            }
          },
          "required": [
            "op",
            "arg"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "op": {
              "anyOf": [
                {
                  "type": "string",
                  "const": "=="
                },
                {
                  "type": "string",
                  "const": "!="
                },
                {
                  "type": "string",
                  "const": "<"
                },
                {
                  "type": "string",
                  "const": "<="
                },
                {
                  "type": "string",
                  "const": ">"
                },
                {
                  "type": "string",
                  "const": ">="
                }
              ]
            },
            "left": {
              "$ref": "#/definitions/__schema2"
            },
            "right": {
              "$ref": "#/definitions/__schema2"
            }
          },
          "required": [
            "op",
            "left",
            "right"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "op": {
              "type": "string",
              "const": "in"
            },
            "item": {
              "$ref": "#/definitions/__schema2"
            },
            "set": {
              "$ref": "#/definitions/__schema2"
            }
          },
          "required": [
            "op",
            "item",
            "set"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "op": {
              "type": "string",
              "const": "adjacent"
            },
            "left": {
              "type": "string"
            },
            "right": {
              "type": "string"
            }
          },
          "required": [
            "op",
            "left",
            "right"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "op": {
              "type": "string",
              "const": "connected"
            },
            "from": {
              "type": "string"
            },
            "to": {
              "type": "string"
            },
            "via": {
              "allOf": [
                {
                  "$ref": "#/definitions/__schema1"
                }
              ]
            },
            "maxDepth": {
              "type": "number"
            }
          },
          "required": [
            "op",
            "from",
            "to"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "op": {
              "type": "string",
              "const": "zonePropIncludes"
            },
            "zone": {
              "type": "string"
            },
            "prop": {
              "type": "string"
            },
            "value": {
              "$ref": "#/definitions/__schema2"
            }
          },
          "required": [
            "op",
            "zone",
            "prop",
            "value"
          ],
          "additionalProperties": false
        }
      ]
    },
    "__schema2": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "boolean"
        },
        {
          "type": "string"
        },
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "gvar"
                },
                "var": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "var"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "pvar"
                },
                "player": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "actor"
                    },
                    {
                      "type": "string",
                      "const": "active"
                    },
                    {
                      "type": "string",
                      "const": "all"
                    },
                    {
                      "type": "string",
                      "const": "allOther"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        }
                      },
                      "required": [
                        "id"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "chosen": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "chosen"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "relative": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "left"
                            },
                            {
                              "type": "string",
                              "const": "right"
                            }
                          ]
                        }
                      },
                      "required": [
                        "relative"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "var": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "player",
                "var"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "zoneCount"
                },
                "zone": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "zone"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "tokenProp"
                },
                "token": {
                  "type": "string"
                },
                "prop": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "token",
                "prop"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "assetField"
                },
                "row": {
                  "type": "string"
                },
                "tableId": {
                  "type": "string"
                },
                "field": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "row",
                "tableId",
                "field"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "binding"
                },
                "name": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "name"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "markerState"
                },
                "space": {
                  "type": "string"
                },
                "marker": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "space",
                "marker"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "globalMarkerState"
                },
                "marker": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "marker"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "tokenZone"
                },
                "token": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "token"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "zoneProp"
                },
                "zone": {
                  "type": "string"
                },
                "prop": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "zone",
                "prop"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "activePlayer"
                }
              },
              "required": [
                "ref"
              ],
              "additionalProperties": false
            }
          ]
        },
        {
          "type": "object",
          "properties": {
            "op": {
              "anyOf": [
                {
                  "type": "string",
                  "const": "+"
                },
                {
                  "type": "string",
                  "const": "-"
                },
                {
                  "type": "string",
                  "const": "*"
                },
                {
                  "type": "string",
                  "const": "/"
                },
                {
                  "type": "string",
                  "const": "floorDiv"
                },
                {
                  "type": "string",
                  "const": "ceilDiv"
                }
              ]
            },
            "left": {
              "$ref": "#/definitions/__schema2"
            },
            "right": {
              "$ref": "#/definitions/__schema2"
            }
          },
          "required": [
            "op",
            "left",
            "right"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "aggregate": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "op": {
                      "type": "string",
                      "const": "count"
                    },
                    "query": {
                      "$ref": "#/definitions/__schema3"
                    }
                  },
                  "required": [
                    "op",
                    "query"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "op": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "sum"
                        },
                        {
                          "type": "string",
                          "const": "min"
                        },
                        {
                          "type": "string",
                          "const": "max"
                        }
                      ]
                    },
                    "query": {
                      "$ref": "#/definitions/__schema3"
                    },
                    "bind": {
                      "type": "string"
                    },
                    "valueExpr": {
                      "$ref": "#/definitions/__schema4"
                    }
                  },
                  "required": [
                    "op",
                    "query",
                    "bind",
                    "valueExpr"
                  ],
                  "additionalProperties": false
                }
              ]
            }
          },
          "required": [
            "aggregate"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "concat": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/__schema2"
              }
            }
          },
          "required": [
            "concat"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "if": {
              "type": "object",
              "properties": {
                "when": {
                  "$ref": "#/definitions/__schema1"
                },
                "then": {
                  "$ref": "#/definitions/__schema2"
                },
                "else": {
                  "$ref": "#/definitions/__schema2"
                }
              },
              "required": [
                "when",
                "then",
                "else"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "if"
          ],
          "additionalProperties": false
        }
      ]
    },
    "__schema3": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "const": "concat"
            },
            "sources": {
              "minItems": 1,
              "type": "array",
              "items": {
                "$ref": "#/definitions/__schema3"
              }
            }
          },
          "required": [
            "query",
            "sources"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "const": "tokensInZone"
            },
            "zone": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "object",
                  "properties": {
                    "zoneExpr": {
                      "$ref": "#/definitions/__schema2"
                    }
                  },
                  "required": [
                    "zoneExpr"
                  ],
                  "additionalProperties": false
                }
              ]
            },
            "filter": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "prop": {
                    "type": "string"
                  },
                  "op": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "eq"
                      },
                      {
                        "type": "string",
                        "const": "neq"
                      },
                      {
                        "type": "string",
                        "const": "in"
                      },
                      {
                        "type": "string",
                        "const": "notIn"
                      }
                    ]
                  },
                  "value": {
                    "anyOf": [
                      {
                        "$ref": "#/definitions/__schema2"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            },
                            {
                              "type": "boolean"
                            }
                          ]
                        }
                      }
                    ]
                  }
                },
                "required": [
                  "prop",
                  "op",
                  "value"
                ],
                "additionalProperties": false
              }
            }
          },
          "required": [
            "query",
            "zone"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "const": "assetRows"
            },
            "tableId": {
              "type": "string"
            },
            "where": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "field": {
                    "type": "string"
                  },
                  "op": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "eq"
                      },
                      {
                        "type": "string",
                        "const": "neq"
                      },
                      {
                        "type": "string",
                        "const": "in"
                      },
                      {
                        "type": "string",
                        "const": "notIn"
                      }
                    ]
                  },
                  "value": {
                    "anyOf": [
                      {
                        "$ref": "#/definitions/__schema2"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            },
                            {
                              "type": "boolean"
                            }
                          ]
                        }
                      }
                    ]
                  }
                },
                "required": [
                  "field",
                  "op",
                  "value"
                ],
                "additionalProperties": false
              }
            },
            "cardinality": {
              "anyOf": [
                {
                  "type": "string",
                  "const": "many"
                },
                {
                  "type": "string",
                  "const": "exactlyOne"
                },
                {
                  "type": "string",
                  "const": "zeroOrOne"
                }
              ]
            }
          },
          "required": [
            "query",
            "tableId"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "const": "tokensInMapSpaces"
            },
            "spaceFilter": {
              "type": "object",
              "properties": {
                "owner": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "actor"
                    },
                    {
                      "type": "string",
                      "const": "active"
                    },
                    {
                      "type": "string",
                      "const": "all"
                    },
                    {
                      "type": "string",
                      "const": "allOther"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        }
                      },
                      "required": [
                        "id"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "chosen": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "chosen"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "relative": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "left"
                            },
                            {
                              "type": "string",
                              "const": "right"
                            }
                          ]
                        }
                      },
                      "required": [
                        "relative"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "condition": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/__schema1"
                    }
                  ]
                }
              },
              "additionalProperties": false
            },
            "filter": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "prop": {
                    "type": "string"
                  },
                  "op": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "eq"
                      },
                      {
                        "type": "string",
                        "const": "neq"
                      },
                      {
                        "type": "string",
                        "const": "in"
                      },
                      {
                        "type": "string",
                        "const": "notIn"
                      }
                    ]
                  },
                  "value": {
                    "anyOf": [
                      {
                        "$ref": "#/definitions/__schema2"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            },
                            {
                              "type": "boolean"
                            }
                          ]
                        }
                      }
                    ]
                  }
                },
                "required": [
                  "prop",
                  "op",
                  "value"
                ],
                "additionalProperties": false
              }
            }
          },
          "required": [
            "query"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "const": "nextInOrderByCondition"
            },
            "source": {
              "$ref": "#/definitions/__schema3"
            },
            "from": {
              "$ref": "#/definitions/__schema2"
            },
            "bind": {
              "type": "string",
              "pattern": "^\\$.+"
            },
            "where": {
              "$ref": "#/definitions/__schema1"
            },
            "includeFrom": {
              "type": "boolean"
            }
          },
          "required": [
            "query",
            "source",
            "from",
            "bind",
            "where"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "const": "intsInRange"
            },
            "min": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": -9007199254740991,
                  "maximum": 9007199254740991
                },
                {
                  "$ref": "#/definitions/__schema4"
                }
              ]
            },
            "max": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": -9007199254740991,
                  "maximum": 9007199254740991
                },
                {
                  "$ref": "#/definitions/__schema4"
                }
              ]
            },
            "step": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": -9007199254740991,
                  "maximum": 9007199254740991
                },
                {
                  "$ref": "#/definitions/__schema4"
                }
              ]
            },
            "alwaysInclude": {
              "type": "array",
              "items": {
                "anyOf": [
                  {
                    "type": "integer",
                    "minimum": -9007199254740991,
                    "maximum": 9007199254740991
                  },
                  {
                    "$ref": "#/definitions/__schema4"
                  }
                ]
              }
            },
            "maxResults": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": -9007199254740991,
                  "maximum": 9007199254740991
                },
                {
                  "$ref": "#/definitions/__schema4"
                }
              ]
            }
          },
          "required": [
            "query",
            "min",
            "max"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "const": "intsInVarRange"
            },
            "var": {
              "type": "string"
            },
            "scope": {
              "anyOf": [
                {
                  "type": "string",
                  "const": "global"
                },
                {
                  "type": "string",
                  "const": "perPlayer"
                }
              ]
            },
            "min": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": -9007199254740991,
                  "maximum": 9007199254740991
                },
                {
                  "$ref": "#/definitions/__schema4"
                }
              ]
            },
            "max": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": -9007199254740991,
                  "maximum": 9007199254740991
                },
                {
                  "$ref": "#/definitions/__schema4"
                }
              ]
            },
            "step": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": -9007199254740991,
                  "maximum": 9007199254740991
                },
                {
                  "$ref": "#/definitions/__schema4"
                }
              ]
            },
            "alwaysInclude": {
              "type": "array",
              "items": {
                "anyOf": [
                  {
                    "type": "integer",
                    "minimum": -9007199254740991,
                    "maximum": 9007199254740991
                  },
                  {
                    "$ref": "#/definitions/__schema4"
                  }
                ]
              }
            },
            "maxResults": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": -9007199254740991,
                  "maximum": 9007199254740991
                },
                {
                  "$ref": "#/definitions/__schema4"
                }
              ]
            }
          },
          "required": [
            "query",
            "var"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "const": "enums"
            },
            "values": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "required": [
            "query",
            "values"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "const": "globalMarkers"
            },
            "markers": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "states": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "required": [
            "query"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "const": "players"
            }
          },
          "required": [
            "query"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "const": "zones"
            },
            "filter": {
              "type": "object",
              "properties": {
                "owner": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "actor"
                    },
                    {
                      "type": "string",
                      "const": "active"
                    },
                    {
                      "type": "string",
                      "const": "all"
                    },
                    {
                      "type": "string",
                      "const": "allOther"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        }
                      },
                      "required": [
                        "id"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "chosen": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "chosen"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "relative": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "left"
                            },
                            {
                              "type": "string",
                              "const": "right"
                            }
                          ]
                        }
                      },
                      "required": [
                        "relative"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "condition": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/__schema1"
                    }
                  ]
                }
              },
              "additionalProperties": false
            }
          },
          "required": [
            "query"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "const": "mapSpaces"
            },
            "filter": {
              "type": "object",
              "properties": {
                "owner": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "actor"
                    },
                    {
                      "type": "string",
                      "const": "active"
                    },
                    {
                      "type": "string",
                      "const": "all"
                    },
                    {
                      "type": "string",
                      "const": "allOther"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        }
                      },
                      "required": [
                        "id"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "chosen": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "chosen"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "relative": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "left"
                            },
                            {
                              "type": "string",
                              "const": "right"
                            }
                          ]
                        }
                      },
                      "required": [
                        "relative"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "condition": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/__schema1"
                    }
                  ]
                }
              },
              "additionalProperties": false
            }
          },
          "required": [
            "query"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "const": "adjacentZones"
            },
            "zone": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "object",
                  "properties": {
                    "zoneExpr": {
                      "$ref": "#/definitions/__schema2"
                    }
                  },
                  "required": [
                    "zoneExpr"
                  ],
                  "additionalProperties": false
                }
              ]
            }
          },
          "required": [
            "query",
            "zone"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "const": "tokensInAdjacentZones"
            },
            "zone": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "object",
                  "properties": {
                    "zoneExpr": {
                      "$ref": "#/definitions/__schema2"
                    }
                  },
                  "required": [
                    "zoneExpr"
                  ],
                  "additionalProperties": false
                }
              ]
            },
            "filter": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "prop": {
                    "type": "string"
                  },
                  "op": {
                    "anyOf": [
                      {
                        "type": "string",
                        "const": "eq"
                      },
                      {
                        "type": "string",
                        "const": "neq"
                      },
                      {
                        "type": "string",
                        "const": "in"
                      },
                      {
                        "type": "string",
                        "const": "notIn"
                      }
                    ]
                  },
                  "value": {
                    "anyOf": [
                      {
                        "$ref": "#/definitions/__schema2"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            },
                            {
                              "type": "boolean"
                            }
                          ]
                        }
                      }
                    ]
                  }
                },
                "required": [
                  "prop",
                  "op",
                  "value"
                ],
                "additionalProperties": false
              }
            }
          },
          "required": [
            "query",
            "zone"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "const": "connectedZones"
            },
            "zone": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "object",
                  "properties": {
                    "zoneExpr": {
                      "$ref": "#/definitions/__schema2"
                    }
                  },
                  "required": [
                    "zoneExpr"
                  ],
                  "additionalProperties": false
                }
              ]
            },
            "via": {
              "allOf": [
                {
                  "$ref": "#/definitions/__schema1"
                }
              ]
            },
            "includeStart": {
              "type": "boolean"
            },
            "maxDepth": {
              "type": "number"
            }
          },
          "required": [
            "query",
            "zone"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "const": "binding"
            },
            "name": {
              "type": "string"
            }
          },
          "required": [
            "query",
            "name"
          ],
          "additionalProperties": false
        }
      ]
    },
    "__schema4": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "gvar"
                },
                "var": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "var"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "pvar"
                },
                "player": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "actor"
                    },
                    {
                      "type": "string",
                      "const": "active"
                    },
                    {
                      "type": "string",
                      "const": "all"
                    },
                    {
                      "type": "string",
                      "const": "allOther"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        }
                      },
                      "required": [
                        "id"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "chosen": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "chosen"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "relative": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "left"
                            },
                            {
                              "type": "string",
                              "const": "right"
                            }
                          ]
                        }
                      },
                      "required": [
                        "relative"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "var": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "player",
                "var"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "zoneCount"
                },
                "zone": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "zone"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "tokenProp"
                },
                "token": {
                  "type": "string"
                },
                "prop": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "token",
                "prop"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "assetField"
                },
                "row": {
                  "type": "string"
                },
                "tableId": {
                  "type": "string"
                },
                "field": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "row",
                "tableId",
                "field"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "binding"
                },
                "name": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "name"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "markerState"
                },
                "space": {
                  "type": "string"
                },
                "marker": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "space",
                "marker"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "globalMarkerState"
                },
                "marker": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "marker"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "tokenZone"
                },
                "token": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "token"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "zoneProp"
                },
                "zone": {
                  "type": "string"
                },
                "prop": {
                  "type": "string"
                }
              },
              "required": [
                "ref",
                "zone",
                "prop"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "ref": {
                  "type": "string",
                  "const": "activePlayer"
                }
              },
              "required": [
                "ref"
              ],
              "additionalProperties": false
            }
          ]
        },
        {
          "type": "object",
          "properties": {
            "op": {
              "anyOf": [
                {
                  "type": "string",
                  "const": "+"
                },
                {
                  "type": "string",
                  "const": "-"
                },
                {
                  "type": "string",
                  "const": "*"
                },
                {
                  "type": "string",
                  "const": "/"
                },
                {
                  "type": "string",
                  "const": "floorDiv"
                },
                {
                  "type": "string",
                  "const": "ceilDiv"
                }
              ]
            },
            "left": {
              "$ref": "#/definitions/__schema4"
            },
            "right": {
              "$ref": "#/definitions/__schema4"
            }
          },
          "required": [
            "op",
            "left",
            "right"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "aggregate": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "op": {
                      "type": "string",
                      "const": "count"
                    },
                    "query": {
                      "$ref": "#/definitions/__schema3"
                    }
                  },
                  "required": [
                    "op",
                    "query"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "op": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "sum"
                        },
                        {
                          "type": "string",
                          "const": "min"
                        },
                        {
                          "type": "string",
                          "const": "max"
                        }
                      ]
                    },
                    "query": {
                      "$ref": "#/definitions/__schema3"
                    },
                    "bind": {
                      "type": "string"
                    },
                    "valueExpr": {
                      "$ref": "#/definitions/__schema4"
                    }
                  },
                  "required": [
                    "op",
                    "query",
                    "bind",
                    "valueExpr"
                  ],
                  "additionalProperties": false
                }
              ]
            }
          },
          "required": [
            "aggregate"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "if": {
              "type": "object",
              "properties": {
                "when": {
                  "$ref": "#/definitions/__schema1"
                },
                "then": {
                  "$ref": "#/definitions/__schema4"
                },
                "else": {
                  "$ref": "#/definitions/__schema4"
                }
              },
              "required": [
                "when",
                "then",
                "else"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "if"
          ],
          "additionalProperties": false
        }
      ]
    },
    "__schema5": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "setVar": {
              "type": "object",
              "properties": {
                "scope": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "global"
                    },
                    {
                      "type": "string",
                      "const": "pvar"
                    }
                  ]
                },
                "player": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "actor"
                    },
                    {
                      "type": "string",
                      "const": "active"
                    },
                    {
                      "type": "string",
                      "const": "all"
                    },
                    {
                      "type": "string",
                      "const": "allOther"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        }
                      },
                      "required": [
                        "id"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "chosen": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "chosen"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "relative": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "left"
                            },
                            {
                              "type": "string",
                              "const": "right"
                            }
                          ]
                        }
                      },
                      "required": [
                        "relative"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "var": {
                  "type": "string"
                },
                "value": {
                  "$ref": "#/definitions/__schema2"
                }
              },
              "required": [
                "scope",
                "var",
                "value"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "setVar"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "setActivePlayer": {
              "type": "object",
              "properties": {
                "player": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "actor"
                    },
                    {
                      "type": "string",
                      "const": "active"
                    },
                    {
                      "type": "string",
                      "const": "all"
                    },
                    {
                      "type": "string",
                      "const": "allOther"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        }
                      },
                      "required": [
                        "id"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "chosen": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "chosen"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "relative": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "left"
                            },
                            {
                              "type": "string",
                              "const": "right"
                            }
                          ]
                        }
                      },
                      "required": [
                        "relative"
                      ],
                      "additionalProperties": false
                    }
                  ]
                }
              },
              "required": [
                "player"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "setActivePlayer"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "addVar": {
              "type": "object",
              "properties": {
                "scope": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "global"
                    },
                    {
                      "type": "string",
                      "const": "pvar"
                    }
                  ]
                },
                "player": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "actor"
                    },
                    {
                      "type": "string",
                      "const": "active"
                    },
                    {
                      "type": "string",
                      "const": "all"
                    },
                    {
                      "type": "string",
                      "const": "allOther"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        }
                      },
                      "required": [
                        "id"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "chosen": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "chosen"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "relative": {
                          "anyOf": [
                            {
                              "type": "string",
                              "const": "left"
                            },
                            {
                              "type": "string",
                              "const": "right"
                            }
                          ]
                        }
                      },
                      "required": [
                        "relative"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "var": {
                  "type": "string"
                },
                "delta": {
                  "$ref": "#/definitions/__schema4"
                }
              },
              "required": [
                "scope",
                "var",
                "delta"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "addVar"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "commitResource": {
              "type": "object",
              "properties": {
                "from": {
                  "type": "object",
                  "properties": {
                    "scope": {
                      "type": "string",
                      "const": "pvar"
                    },
                    "player": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "actor"
                        },
                        {
                          "type": "string",
                          "const": "active"
                        },
                        {
                          "type": "string",
                          "const": "all"
                        },
                        {
                          "type": "string",
                          "const": "allOther"
                        },
                        {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer",
                              "minimum": -9007199254740991,
                              "maximum": 9007199254740991
                            }
                          },
                          "required": [
                            "id"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "chosen": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "chosen"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "relative": {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "const": "left"
                                },
                                {
                                  "type": "string",
                                  "const": "right"
                                }
                              ]
                            }
                          },
                          "required": [
                            "relative"
                          ],
                          "additionalProperties": false
                        }
                      ]
                    },
                    "var": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "scope",
                    "player",
                    "var"
                  ],
                  "additionalProperties": false
                },
                "to": {
                  "type": "object",
                  "properties": {
                    "scope": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "global"
                        },
                        {
                          "type": "string",
                          "const": "pvar"
                        }
                      ]
                    },
                    "var": {
                      "type": "string"
                    },
                    "player": {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "actor"
                        },
                        {
                          "type": "string",
                          "const": "active"
                        },
                        {
                          "type": "string",
                          "const": "all"
                        },
                        {
                          "type": "string",
                          "const": "allOther"
                        },
                        {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer",
                              "minimum": -9007199254740991,
                              "maximum": 9007199254740991
                            }
                          },
                          "required": [
                            "id"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "chosen": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "chosen"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "relative": {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "const": "left"
                                },
                                {
                                  "type": "string",
                                  "const": "right"
                                }
                              ]
                            }
                          },
                          "required": [
                            "relative"
                          ],
                          "additionalProperties": false
                        }
                      ]
                    }
                  },
                  "required": [
                    "scope",
                    "var"
                  ],
                  "additionalProperties": false
                },
                "amount": {
                  "$ref": "#/definitions/__schema4"
                },
                "min": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/__schema4"
                    }
                  ]
                },
                "max": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/__schema4"
                    }
                  ]
                },
                "actualBind": {
                  "type": "string"
                }
              },
              "required": [
                "from",
                "to",
                "amount"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "commitResource"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "moveToken": {
              "type": "object",
              "properties": {
                "token": {
                  "type": "string"
                },
                "from": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "zoneExpr": {
                          "$ref": "#/definitions/__schema2"
                        }
                      },
                      "required": [
                        "zoneExpr"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "to": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "zoneExpr": {
                          "$ref": "#/definitions/__schema2"
                        }
                      },
                      "required": [
                        "zoneExpr"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "position": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "top"
                    },
                    {
                      "type": "string",
                      "const": "bottom"
                    },
                    {
                      "type": "string",
                      "const": "random"
                    }
                  ]
                }
              },
              "required": [
                "token",
                "from",
                "to"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "moveToken"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "moveAll": {
              "type": "object",
              "properties": {
                "from": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "zoneExpr": {
                          "$ref": "#/definitions/__schema2"
                        }
                      },
                      "required": [
                        "zoneExpr"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "to": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "zoneExpr": {
                          "$ref": "#/definitions/__schema2"
                        }
                      },
                      "required": [
                        "zoneExpr"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "filter": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/__schema1"
                    }
                  ]
                }
              },
              "required": [
                "from",
                "to"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "moveAll"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "moveTokenAdjacent": {
              "type": "object",
              "properties": {
                "token": {
                  "type": "string"
                },
                "from": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "zoneExpr": {
                          "$ref": "#/definitions/__schema2"
                        }
                      },
                      "required": [
                        "zoneExpr"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "direction": {
                  "type": "string"
                }
              },
              "required": [
                "token",
                "from"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "moveTokenAdjacent"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "draw": {
              "type": "object",
              "properties": {
                "from": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "zoneExpr": {
                          "$ref": "#/definitions/__schema2"
                        }
                      },
                      "required": [
                        "zoneExpr"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "to": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "zoneExpr": {
                          "$ref": "#/definitions/__schema2"
                        }
                      },
                      "required": [
                        "zoneExpr"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "count": {
                  "type": "number"
                }
              },
              "required": [
                "from",
                "to",
                "count"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "draw"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "reveal": {
              "type": "object",
              "properties": {
                "zone": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "zoneExpr": {
                          "$ref": "#/definitions/__schema2"
                        }
                      },
                      "required": [
                        "zoneExpr"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "to": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "all"
                    },
                    {
                      "anyOf": [
                        {
                          "type": "string",
                          "const": "actor"
                        },
                        {
                          "type": "string",
                          "const": "active"
                        },
                        {
                          "type": "string",
                          "const": "all"
                        },
                        {
                          "type": "string",
                          "const": "allOther"
                        },
                        {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer",
                              "minimum": -9007199254740991,
                              "maximum": 9007199254740991
                            }
                          },
                          "required": [
                            "id"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "chosen": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "chosen"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "relative": {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "const": "left"
                                },
                                {
                                  "type": "string",
                                  "const": "right"
                                }
                              ]
                            }
                          },
                          "required": [
                            "relative"
                          ],
                          "additionalProperties": false
                        }
                      ]
                    }
                  ]
                },
                "filter": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "prop": {
                        "type": "string"
                      },
                      "op": {
                        "anyOf": [
                          {
                            "type": "string",
                            "const": "eq"
                          },
                          {
                            "type": "string",
                            "const": "neq"
                          },
                          {
                            "type": "string",
                            "const": "in"
                          },
                          {
                            "type": "string",
                            "const": "notIn"
                          }
                        ]
                      },
                      "value": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/__schema2"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "boolean"
                                }
                              ]
                            }
                          }
                        ]
                      }
                    },
                    "required": [
                      "prop",
                      "op",
                      "value"
                    ],
                    "additionalProperties": false
                  }
                }
              },
              "required": [
                "zone",
                "to"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "reveal"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "shuffle": {
              "type": "object",
              "properties": {
                "zone": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "zoneExpr": {
                          "$ref": "#/definitions/__schema2"
                        }
                      },
                      "required": [
                        "zoneExpr"
                      ],
                      "additionalProperties": false
                    }
                  ]
                }
              },
              "required": [
                "zone"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "shuffle"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "createToken": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string"
                },
                "zone": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "zoneExpr": {
                          "$ref": "#/definitions/__schema2"
                        }
                      },
                      "required": [
                        "zoneExpr"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "props": {
                  "type": "object",
                  "propertyNames": {
                    "type": "string"
                  },
                  "additionalProperties": {
                    "$ref": "#/definitions/__schema2"
                  }
                }
              },
              "required": [
                "type",
                "zone"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "createToken"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "destroyToken": {
              "type": "object",
              "properties": {
                "token": {
                  "type": "string"
                }
              },
              "required": [
                "token"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "destroyToken"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "setTokenProp": {
              "type": "object",
              "properties": {
                "token": {
                  "type": "string"
                },
                "prop": {
                  "type": "string"
                },
                "value": {
                  "$ref": "#/definitions/__schema2"
                }
              },
              "required": [
                "token",
                "prop",
                "value"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "setTokenProp"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "if": {
              "type": "object",
              "properties": {
                "when": {
                  "$ref": "#/definitions/__schema1"
                },
                "then": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/__schema5"
                  }
                },
                "else": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/__schema5"
                  }
                }
              },
              "required": [
                "when",
                "then"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "if"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "forEach": {
              "type": "object",
              "properties": {
                "bind": {
                  "type": "string"
                },
                "over": {
                  "$ref": "#/definitions/__schema3"
                },
                "effects": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/__schema5"
                  }
                },
                "limit": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/__schema4"
                    }
                  ]
                },
                "countBind": {
                  "type": "string"
                },
                "in": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/__schema5"
                  }
                }
              },
              "required": [
                "bind",
                "over",
                "effects"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "forEach"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "reduce": {
              "type": "object",
              "properties": {
                "itemBind": {
                  "type": "string"
                },
                "accBind": {
                  "type": "string"
                },
                "over": {
                  "$ref": "#/definitions/__schema3"
                },
                "initial": {
                  "$ref": "#/definitions/__schema2"
                },
                "next": {
                  "$ref": "#/definitions/__schema2"
                },
                "limit": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/__schema4"
                    }
                  ]
                },
                "resultBind": {
                  "type": "string"
                },
                "in": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/__schema5"
                  }
                }
              },
              "required": [
                "itemBind",
                "accBind",
                "over",
                "initial",
                "next",
                "resultBind",
                "in"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "reduce"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "removeByPriority": {
              "type": "object",
              "properties": {
                "budget": {
                  "$ref": "#/definitions/__schema4"
                },
                "groups": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "bind": {
                        "type": "string"
                      },
                      "over": {
                        "$ref": "#/definitions/__schema3"
                      },
                      "to": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "zoneExpr": {
                                "$ref": "#/definitions/__schema2"
                              }
                            },
                            "required": [
                              "zoneExpr"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      },
                      "from": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "zoneExpr": {
                                "$ref": "#/definitions/__schema2"
                              }
                            },
                            "required": [
                              "zoneExpr"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      },
                      "countBind": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "bind",
                      "over",
                      "to"
                    ],
                    "additionalProperties": false
                  }
                },
                "remainingBind": {
                  "type": "string"
                },
                "in": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/__schema5"
                  }
                }
              },
              "required": [
                "budget",
                "groups"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "removeByPriority"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "let": {
              "type": "object",
              "properties": {
                "bind": {
                  "type": "string"
                },
                "value": {
                  "$ref": "#/definitions/__schema2"
                },
                "in": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/__schema5"
                  }
                }
              },
              "required": [
                "bind",
                "value",
                "in"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "let"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "bindValue": {
              "type": "object",
              "properties": {
                "bind": {
                  "type": "string"
                },
                "value": {
                  "$ref": "#/definitions/__schema2"
                }
              },
              "required": [
                "bind",
                "value"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "bindValue"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "evaluateSubset": {
              "type": "object",
              "properties": {
                "source": {
                  "$ref": "#/definitions/__schema3"
                },
                "subsetSize": {
                  "$ref": "#/definitions/__schema4"
                },
                "subsetBind": {
                  "type": "string"
                },
                "compute": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/__schema5"
                  }
                },
                "scoreExpr": {
                  "$ref": "#/definitions/__schema4"
                },
                "resultBind": {
                  "type": "string"
                },
                "bestSubsetBind": {
                  "type": "string"
                },
                "in": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/__schema5"
                  }
                }
              },
              "required": [
                "source",
                "subsetSize",
                "subsetBind",
                "compute",
                "scoreExpr",
                "resultBind",
                "in"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "evaluateSubset"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "chooseOne": {
              "type": "object",
              "properties": {
                "internalDecisionId": {
                  "type": "string"
                },
                "bind": {
                  "type": "string"
                },
                "options": {
                  "$ref": "#/definitions/__schema3"
                }
              },
              "required": [
                "internalDecisionId",
                "bind",
                "options"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "chooseOne"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "chooseN": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "internalDecisionId": {
                      "type": "string"
                    },
                    "bind": {
                      "type": "string"
                    },
                    "options": {
                      "$ref": "#/definitions/__schema3"
                    },
                    "n": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "internalDecisionId",
                    "bind",
                    "options",
                    "n"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "internalDecisionId": {
                      "type": "string"
                    },
                    "bind": {
                      "type": "string"
                    },
                    "options": {
                      "$ref": "#/definitions/__schema3"
                    },
                    "min": {
                      "allOf": [
                        {
                          "$ref": "#/definitions/__schema4"
                        }
                      ]
                    },
                    "max": {
                      "$ref": "#/definitions/__schema4"
                    }
                  },
                  "required": [
                    "internalDecisionId",
                    "bind",
                    "options",
                    "max"
                  ],
                  "additionalProperties": false
                }
              ]
            }
          },
          "required": [
            "chooseN"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "rollRandom": {
              "type": "object",
              "properties": {
                "bind": {
                  "type": "string"
                },
                "min": {
                  "$ref": "#/definitions/__schema4"
                },
                "max": {
                  "$ref": "#/definitions/__schema4"
                },
                "in": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/__schema5"
                  }
                }
              },
              "required": [
                "bind",
                "min",
                "max",
                "in"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "rollRandom"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "setMarker": {
              "type": "object",
              "properties": {
                "space": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "zoneExpr": {
                          "$ref": "#/definitions/__schema2"
                        }
                      },
                      "required": [
                        "zoneExpr"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "marker": {
                  "type": "string"
                },
                "state": {
                  "$ref": "#/definitions/__schema2"
                }
              },
              "required": [
                "space",
                "marker",
                "state"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "setMarker"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "shiftMarker": {
              "type": "object",
              "properties": {
                "space": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "zoneExpr": {
                          "$ref": "#/definitions/__schema2"
                        }
                      },
                      "required": [
                        "zoneExpr"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                "marker": {
                  "type": "string"
                },
                "delta": {
                  "$ref": "#/definitions/__schema4"
                }
              },
              "required": [
                "space",
                "marker",
                "delta"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "shiftMarker"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "setGlobalMarker": {
              "type": "object",
              "properties": {
                "marker": {
                  "type": "string"
                },
                "state": {
                  "$ref": "#/definitions/__schema2"
                }
              },
              "required": [
                "marker",
                "state"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "setGlobalMarker"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "flipGlobalMarker": {
              "type": "object",
              "properties": {
                "marker": {
                  "$ref": "#/definitions/__schema2"
                },
                "stateA": {
                  "$ref": "#/definitions/__schema2"
                },
                "stateB": {
                  "$ref": "#/definitions/__schema2"
                }
              },
              "required": [
                "marker",
                "stateA",
                "stateB"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "flipGlobalMarker"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "shiftGlobalMarker": {
              "type": "object",
              "properties": {
                "marker": {
                  "type": "string"
                },
                "delta": {
                  "$ref": "#/definitions/__schema4"
                }
              },
              "required": [
                "marker",
                "delta"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "shiftGlobalMarker"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "grantFreeOperation": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "faction": {
                  "type": "string"
                },
                "executeAsFaction": {
                  "type": "string"
                },
                "operationClass": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "pass"
                    },
                    {
                      "type": "string",
                      "const": "event"
                    },
                    {
                      "type": "string",
                      "const": "operation"
                    },
                    {
                      "type": "string",
                      "const": "limitedOperation"
                    },
                    {
                      "type": "string",
                      "const": "operationPlusSpecialActivity"
                    }
                  ]
                },
                "actionIds": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "zoneFilter": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/__schema1"
                    }
                  ]
                },
                "uses": {
                  "type": "number"
                },
                "sequence": {
                  "type": "object",
                  "properties": {
                    "chain": {
                      "type": "string"
                    },
                    "step": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "chain",
                    "step"
                  ],
                  "additionalProperties": false
                }
              },
              "required": [
                "faction",
                "operationClass"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "grantFreeOperation"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "gotoPhaseExact": {
              "type": "object",
              "properties": {
                "phase": {
                  "type": "string"
                }
              },
              "required": [
                "phase"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "gotoPhaseExact"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "advancePhase": {
              "type": "object",
              "properties": {},
              "additionalProperties": false
            }
          },
          "required": [
            "advancePhase"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "pushInterruptPhase": {
              "type": "object",
              "properties": {
                "phase": {
                  "type": "string"
                },
                "resumePhase": {
                  "type": "string"
                }
              },
              "required": [
                "phase",
                "resumePhase"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "pushInterruptPhase"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "popInterruptPhase": {
              "type": "object",
              "properties": {},
              "additionalProperties": false
            }
          },
          "required": [
            "popInterruptPhase"
          ],
          "additionalProperties": false
        }
      ]
    }
  },
  "$id": "Trace.schema.json"
}
